{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _keys = require('babel-runtime/core-js/object/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _ampersandState = require('ampersand-state');\n\nvar _ampersandState2 = _interopRequireDefault(_ampersandState);\n\nvar _featureCollection = require('./feature-collection');\n\nvar _featureCollection2 = _interopRequireDefault(_featureCollection);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*!\n * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.\n */\n\n\nvar FeaturesModel = _ampersandState2.default.extend({\n  collections: {\n    developer: _featureCollection2.default,\n    entitlement: _featureCollection2.default,\n    user: _featureCollection2.default\n  },\n\n  /**\n   * Recursively clear children/collections;\n   * @param {Object} options\n   * @returns {SparkPlugin}\n   */\n  clear: function clear(options) {\n    var _this = this;\n\n    (0, _keys2.default)(this.attributes).forEach(function (key) {\n      _this.unset(key, options);\n    });\n    (0, _keys2.default)(this._children).forEach(function (key) {\n      _this[key].clear();\n    });\n    (0, _keys2.default)(this._collections).forEach(function (key) {\n      _this[key].reset();\n    });\n    return this;\n  },\n  initialize: function initialize() {\n    var _this2 = this;\n    /* eslint max-nested-callbacks: [0] */\n    // Propagate change(:[attribute]) events from collections\n\n\n    ['change:value', 'add', 'remove'].forEach(function (collectionEventName) {\n      ['developer', 'entitlement', 'user'].forEach(function (collectionName) {\n        _this2[collectionName].on(collectionEventName, function (model, options) {\n          _this2.trigger('change:' + collectionName, _this2, _this2[collectionName], options);\n        });\n      });\n    });\n  }\n});\n\nexports.default = FeaturesModel;","map":null,"metadata":{},"sourceType":"script"}