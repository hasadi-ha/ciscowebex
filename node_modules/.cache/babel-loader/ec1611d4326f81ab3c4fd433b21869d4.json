{"ast":null,"code":"/*!\n * util/index.js - Utilities Entry Point\n *\n * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.\n */\n\"use strict\";\n\nvar forge = require(\"../deps/forge.js\");\n\nvar util;\n\nfunction asBuffer(input, encoding) {\n  if (Buffer.isBuffer(input)) {\n    return input;\n  }\n\n  if (\"string\" === typeof input) {\n    encoding = encoding || \"binary\";\n\n    if (\"base64url\" === encoding) {\n      return util.base64url.decode(input);\n    }\n\n    return new Buffer(input, encoding);\n  } // assume input is an Array, ArrayBuffer, or ArrayBufferView\n\n\n  if (forge.util.isArrayBufferView(input)) {\n    input = input instanceof Uint8Array ? input : new Uint8Array(input.buffer, input.byteOffset, input.byteOffset + input.byteLength);\n  } else if (forge.util.isArrayBuffer(input)) {\n    input = new Uint8Array(input);\n  }\n\n  var output;\n  output = new Buffer(input);\n  return output;\n}\n\nfunction randomBytes(len) {\n  return new Buffer(forge.random.getBytes(len), \"binary\");\n}\n\nutil = {\n  base64url: require(\"./base64url.js\"),\n  utf8: require(\"./utf8.js\"),\n  asBuffer: asBuffer,\n  randomBytes: randomBytes\n};\nmodule.exports = util;","map":null,"metadata":{},"sourceType":"script"}